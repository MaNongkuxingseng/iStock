# ðŸ” iStocké¡¹ç›®ä»£ç å®¡è®¡æŠ¥å‘Š

## ðŸ“‹ å®¡è®¡æ¦‚è¿°
- **å®¡è®¡æ—¶é—´**: 2026-02-28
- **å®¡è®¡èŒƒå›´**: æ‰€æœ‰å·²äº¤ä»˜ä»£ç 
- **å®¡è®¡ç›®æ ‡**: è¯†åˆ«æœªå®Œæˆä»£ç å’Œé—®é¢˜
- **é¡¹ç›®çŠ¶æ€**: ç¬¬2å‘¨å®Œæˆï¼Œç¬¬3å‘¨è®¡åˆ’ä¸­

## ðŸ—ï¸ é¡¹ç›®ç»“æž„å®¡è®¡

### ç›®å½•ç»“æž„å®Œæ•´æ€§
```
iStock/
â”œâ”€â”€ âœ… backend/           # åŽç«¯ä»£ç  - åŸºæœ¬å®Œæ•´
â”œâ”€â”€ âš ï¸  frontend/         # å‰ç«¯ä»£ç  - ä¸¥é‡ç¼ºå¤±
â”œâ”€â”€ âœ… docker/           # Dockeré…ç½® - å®Œæ•´
â”œâ”€â”€ âœ… scripts/          # è„šæœ¬æ–‡ä»¶ - å®Œæ•´
â”œâ”€â”€ âš ï¸  data/            # æ•°æ®ç›®å½• - ç¼ºå¤±
â”œâ”€â”€ âŒ docs/             # æ–‡æ¡£ç›®å½• - ç¼ºå¤±
â””â”€â”€ âœ… local/            # æœ¬åœ°é…ç½® - å®Œæ•´
```

## ðŸ”§ åŽç«¯ä»£ç å®¡è®¡

### 1. æ•°æ®åº“å±‚ (`backend/src/database/`)
```
âœ… models.py              # æ•°æ®æ¨¡åž‹ - å®Œæ•´
âœ… session.py             # æ•°æ®åº“ä¼šè¯ - å®Œæ•´
âŒ __init__.py            # åŒ…åˆå§‹åŒ– - ç¼ºå¤±
âŒ repositories.py        # æ•°æ®ä»“åº“æ¨¡å¼ - ç¼ºå¤±
âŒ migrations/            # è¿ç§»ç®¡ç† - ä¸å®Œæ•´
```

### 2. APIå±‚ (`backend/src/api/`)
```
âŒ ç›®å½•ä¸å­˜åœ¨              # ä¸¥é‡é—®é¢˜
âŒ endpoints/             # APIç«¯ç‚¹ - ç¼ºå¤±
âŒ dependencies/          # ä¾èµ–æ³¨å…¥ - ç¼ºå¤±
âŒ middleware/            # ä¸­é—´ä»¶ - ç¼ºå¤±
```

### 3. æœåŠ¡å±‚ (`backend/src/services/`)
```
âŒ ç›®å½•ä¸å­˜åœ¨              # ä¸¥é‡é—®é¢˜
âŒ stock_service.py       # è‚¡ç¥¨æœåŠ¡ - ç¼ºå¤±
âŒ user_service.py        # ç”¨æˆ·æœåŠ¡ - ç¼ºå¤±
âŒ data_service.py        # æ•°æ®æœåŠ¡ - ç¼ºå¤±
```

### 4. å·¥å…·å±‚ (`backend/src/utils/`)
```
âœ… validators.py          # æ•°æ®éªŒè¯å™¨ - å®Œæ•´
âŒ __init__.py            # åŒ…åˆå§‹åŒ– - ç¼ºå¤±
âŒ helpers.py             # è¾…åŠ©å‡½æ•° - ç¼ºå¤±
âŒ exceptions.py          # è‡ªå®šä¹‰å¼‚å¸¸ - ç¼ºå¤±
```

### 5. è„šæœ¬ (`backend/scripts/`)
```
âœ… db_migrate.py          # æ•°æ®åº“è¿ç§» - å®Œæ•´
âœ… init_database.py       # æ•°æ®åº“åˆå§‹åŒ– - å®Œæ•´
âœ… test_database.py       # æ•°æ®åº“æµ‹è¯• - å®Œæ•´
âœ… seed_data.py           # æ•°æ®æ’­ç§ - å®Œæ•´
```

## ðŸŽ¨ å‰ç«¯ä»£ç å®¡è®¡

### ä¸¥é‡é—®é¢˜ï¼šå‰ç«¯ç›®å½•å‡ ä¹Žä¸ºç©º
```
frontend/
â”œâ”€â”€ âš ï¸  README.md         # ä»…è¯´æ˜Žæ–‡ä»¶
â”œâ”€â”€ âŒ package.json       # ä¾èµ–é…ç½® - ç¼ºå¤±
â”œâ”€â”€ âŒ src/               # æºä»£ç  - ç¼ºå¤±
â”œâ”€â”€ âŒ public/            # é™æ€èµ„æº - ç¼ºå¤±
â””â”€â”€ âŒ æ‰€æœ‰Reactæ–‡ä»¶       # å®Œå…¨ç¼ºå¤±
```

### éœ€è¦ç«‹å³åˆ›å»ºçš„æ–‡ä»¶
1. `package.json` - ä¾èµ–ç®¡ç†
2. `tsconfig.json` - TypeScripté…ç½®
3. `src/`ç›®å½•ç»“æž„
4. `public/`é™æ€æ–‡ä»¶
5. åŸºç¡€Reactç»„ä»¶

## ðŸ³ Dockeré…ç½®å®¡è®¡

### é…ç½®å®Œæ•´æ€§
```
âœ… docker-compose.yml     # å¼€å‘çŽ¯å¢ƒ - å®Œæ•´
âœ… docker-compose.prod.yml # ç”Ÿäº§çŽ¯å¢ƒ - å®Œæ•´
âœ… Dockerfile.backend     # åŽç«¯é•œåƒ - å®Œæ•´
âœ… Dockerfile.frontend    # å‰ç«¯é•œåƒ - å®Œæ•´ï¼ˆä½†ä¾èµ–ç¼ºå¤±å‰ç«¯ä»£ç ï¼‰
âœ… docker/nginx/nginx.conf # Nginxé…ç½® - å®Œæ•´
âœ… docker/postgres/init.sql # æ•°æ®åº“åˆå§‹åŒ– - å®Œæ•´
```

### é—®é¢˜å‘çŽ°
1. **å‰ç«¯Dockerfileä¾èµ–ç¼ºå¤±**: éœ€è¦`frontend/package.json`ç­‰æ–‡ä»¶
2. **æ•°æ®å·é…ç½®**: `data/`ç›®å½•éœ€è¦åˆ›å»º
3. **çŽ¯å¢ƒå˜é‡**: `.env`æ–‡ä»¶éœ€è¦åˆ›å»º

## ðŸ“œ è„šæœ¬æ–‡ä»¶å®¡è®¡

### ç®¡ç†è„šæœ¬
```
âœ… start_istock_fixed.bat     # ä¿®å¤ç‰ˆå¯åŠ¨ - å®Œæ•´
âœ… test_simple.bat            # ç®€å•æµ‹è¯• - å®Œæ•´
âœ… verify_core.bat            # æ ¸å¿ƒéªŒè¯ - å®Œæ•´
âœ… emergency_fix.bat          # ç´§æ€¥ä¿®å¤ - å®Œæ•´
âœ… fix_all_issues_fixed.bat   # ç»¼åˆä¿®å¤ - å®Œæ•´ï¼ˆæ–°åˆ›å»ºï¼‰
âœ… create_minimal_frontend.bat # å‰ç«¯åˆ›å»º - å®Œæ•´
```

### Pythonè„šæœ¬
```
âœ… scripts/check_status.py    # çŠ¶æ€æ£€æŸ¥ - å®Œæ•´
âœ… scripts/start_project.py   # é¡¹ç›®å¯åŠ¨ - å®Œæ•´
âœ… scripts/verify_docker.py   # DockeréªŒè¯ - å®Œæ•´
```

## ðŸ“„ æ–‡æ¡£å®¡è®¡

### ç¼ºå¤±çš„æ–‡æ¡£
```
âŒ README.md                  # é¡¹ç›®è¯´æ˜Ž - ä¸å®Œæ•´
âŒ CONTRIBUTING.md            # è´¡çŒ®æŒ‡å— - ç¼ºå¤±
âŒ API_DOCUMENTATION.md       # APIæ–‡æ¡£ - ç¼ºå¤±
âŒ DEPLOYMENT_GUIDE.md        # éƒ¨ç½²æŒ‡å— - ç¼ºå¤±
âŒ DEVELOPMENT_GUIDE.md       # å¼€å‘æŒ‡å— - ç¼ºå¤±
```

### å­˜åœ¨çš„æ–‡æ¡£
```
âœ… WEEKLY_PLAN.md             # æ¯å‘¨è®¡åˆ’ - å®Œæ•´
âœ… WEEK3_PLAN.md              # ç¬¬3å‘¨è®¡åˆ’ - å®Œæ•´
âœ… MANUAL_TEST_GUIDE.md       # æ‰‹åŠ¨æµ‹è¯• - å®Œæ•´
âœ… FIX_DOCKER_PATH.md         # Dockerä¿®å¤ - å®Œæ•´
âœ… CODE_AUDIT_REPORT.md       # ä»£ç å®¡è®¡ - å½“å‰æ–‡ä»¶
```

## ðŸš¨ å…³é”®é—®é¢˜æ€»ç»“

### é«˜ä¼˜å…ˆçº§é—®é¢˜ï¼ˆå¿…é¡»ç«‹å³ä¿®å¤ï¼‰
1. **å‰ç«¯ä»£ç å®Œå…¨ç¼ºå¤±** - æ— æ³•è¿è¡Œå‰ç«¯æœåŠ¡
2. **åŽç«¯APIå±‚ç¼ºå¤±** - æ²¡æœ‰å®žé™…çš„APIç«¯ç‚¹
3. **æ•°æ®åº“è¿ç§»ä¸å®Œæ•´** - åªæœ‰æ¨¡åž‹å®šä¹‰ï¼Œæ²¡æœ‰å®Œæ•´è¿ç§»
4. **æœåŠ¡å±‚ç¼ºå¤±** - æ²¡æœ‰ä¸šåŠ¡é€»è¾‘å®žçŽ°

### ä¸­ä¼˜å…ˆçº§é—®é¢˜ï¼ˆéœ€è¦å°½å¿«ä¿®å¤ï¼‰
1. **æ–‡æ¡£ä¸å®Œæ•´** - ç¼ºå°‘å…³é”®æ–‡æ¡£
2. **æ•°æ®ç›®å½•ç¼ºå¤±** - Dockeræ•°æ®å·éœ€è¦
3. **åŒ…åˆå§‹åŒ–æ–‡ä»¶ç¼ºå¤±** - PythonåŒ…ç»“æž„ä¸å®Œæ•´

### ä½Žä¼˜å…ˆçº§é—®é¢˜ï¼ˆå¯ä»¥ç¨åŽä¿®å¤ï¼‰
1. **æµ‹è¯•è¦†ç›–ä¸è¶³** - éœ€è¦æ›´å¤šæµ‹è¯•
2. **ç›‘æŽ§é…ç½®ç¼ºå¤±** - ç”Ÿäº§çŽ¯å¢ƒéœ€è¦
3. **CI/CDä¸å®Œæ•´** - éœ€è¦å®Œå–„æµæ°´çº¿

## ðŸ”§ ä¿®å¤è®¡åˆ’

### é˜¶æ®µ1ï¼šç«‹å³ä¿®å¤ï¼ˆä»Šå¤©ï¼‰
1. **åˆ›å»ºå‰ç«¯åŸºç¡€ç»“æž„**
   - è¿è¡Œ`create_minimal_frontend.bat`
   - åˆ›å»ºReactåº”ç”¨éª¨æž¶

2. **åˆ›å»ºåŽç«¯APIéª¨æž¶**
   - åˆ›å»º`backend/src/api/`ç›®å½•
   - æ·»åŠ åŸºç¡€APIç«¯ç‚¹

3. **å®Œå–„æ•°æ®åº“è¿ç§»**
   - åˆ›å»ºå®Œæ•´çš„Alembicè¿ç§»
   - æ·»åŠ ç§å­æ•°æ®è„šæœ¬

### é˜¶æ®µ2ï¼šçŸ­æœŸä¿®å¤ï¼ˆ1-2å¤©ï¼‰
1. **å®žçŽ°æ ¸å¿ƒAPI**
   - è‚¡ç¥¨æ•°æ®API
   - ç”¨æˆ·ç®¡ç†API
   - æŠ•èµ„ç»„åˆAPI

2. **å®Œå–„é¡¹ç›®æ–‡æ¡£**
   - åˆ›å»ºå®Œæ•´çš„README
   - æ·»åŠ APIæ–‡æ¡£
   - ç¼–å†™éƒ¨ç½²æŒ‡å—

3. **æ·»åŠ åŸºç¡€æµ‹è¯•**
   - å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•
   - APIæµ‹è¯•

### é˜¶æ®µ3ï¼šä¸­æœŸå®Œå–„ï¼ˆ1å‘¨ï¼‰
1. **å®žçŽ°ä¸šåŠ¡é€»è¾‘**
   - è‚¡ç¥¨åˆ†æžç®—æ³•
   - é£Žé™©ç®¡ç†é€»è¾‘
   - æ•°æ®åŒæ­¥æœåŠ¡

2. **å®Œå–„å‰ç«¯åŠŸèƒ½**
   - æ•°æ®å¯è§†åŒ–
   - ç”¨æˆ·ç•Œé¢
   - å®žæ—¶æ›´æ–°

3. **ç”Ÿäº§çŽ¯å¢ƒå‡†å¤‡**
   - ç›‘æŽ§é…ç½®
   - æ—¥å¿—ç®¡ç†
   - å®‰å…¨åŠ å›º

## ðŸ“Š äº¤ä»˜çŠ¶æ€è¯„ä¼°

### å·²äº¤ä»˜ä½†æœªå®Œæˆ
| ç»„ä»¶ | å®Œæˆåº¦ | é—®é¢˜æè¿° |
|------|--------|----------|
| **åŽç«¯API** | 20% | åªæœ‰æ¨¡åž‹å®šä¹‰ï¼Œæ²¡æœ‰APIç«¯ç‚¹ |
| **å‰ç«¯åº”ç”¨** | 5% | åªæœ‰ç›®å½•ï¼Œæ²¡æœ‰å®žé™…ä»£ç  |
| **æ•°æ®åº“** | 60% | æœ‰æ¨¡åž‹ï¼Œä½†è¿ç§»ä¸å®Œæ•´ |
| **Dockeré…ç½®** | 90% | é…ç½®å®Œæ•´ï¼Œä½†ä¾èµ–ç¼ºå¤±ä»£ç  |
| **ç®¡ç†è„šæœ¬** | 100% | è„šæœ¬å®Œæ•´ä¸”å¯è¿è¡Œ |
| **æ–‡æ¡£** | 40% | æœ‰éƒ¨åˆ†æ–‡æ¡£ï¼Œä½†ä¸å®Œæ•´ |

### å®žé™…å¯è¿è¡ŒçŠ¶æ€
- âœ… **Dockeré…ç½®**: å¯ä»¥æž„å»ºé•œåƒ
- âš ï¸ **åŽç«¯æœåŠ¡**: å¯ä»¥å¯åŠ¨ï¼Œä½†æ²¡æœ‰åŠŸèƒ½
- âŒ **å‰ç«¯æœåŠ¡**: æ— æ³•å¯åŠ¨ï¼ˆç¼ºå°‘ä»£ç ï¼‰
- âœ… **æ•°æ®åº“**: å¯ä»¥å¯åŠ¨å’Œè¿žæŽ¥
- âœ… **ç®¡ç†å·¥å…·**: å…¨éƒ¨å¯è¿è¡Œ

## ðŸŽ¯ å»ºè®®è¡ŒåŠ¨

### ç«‹å³è¡ŒåŠ¨
1. **è¿è¡Œä¿®å¤è„šæœ¬**: `fix_all_issues_fixed.bat`
2. **åˆ›å»ºå‰ç«¯**: `create_minimal_frontend.bat`
3. **éªŒè¯åŸºç¡€æœåŠ¡**: ä½¿ç”¨`verify_core.bat`

### å¼€å‘é‡ç‚¹
1. **å…ˆå®ŒæˆåŽç«¯APIéª¨æž¶**
2. **ç„¶åŽåˆ›å»ºåŸºç¡€å‰ç«¯**
3. **æœ€åŽå®žçŽ°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘**

### æµ‹è¯•éªŒè¯
1. **åˆ†å±‚æµ‹è¯•**: ä»Žæ•°æ®åº“åˆ°APIé€æ­¥æµ‹è¯•
2. **é›†æˆæµ‹è¯•**: éªŒè¯å„ç»„ä»¶ååŒå·¥ä½œ
3. **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

### å¦‚æžœé‡åˆ°é—®é¢˜
1. **æ£€æŸ¥Docker Desktop**: ç¡®ä¿å·²å¯åŠ¨
2. **æŸ¥çœ‹æ—¥å¿—**: `docker-compose logs`
3. **è¿è¡ŒéªŒè¯**: `verify_core.bat`
4. **é˜…è¯»æŒ‡å—**: `MANUAL_TEST_GUIDE.md`

### éœ€è¦å¸®åŠ©æ—¶
1. **æä¾›é”™è¯¯ä¿¡æ¯**: å®Œæ•´çš„é”™è¯¯æ¶ˆæ¯
2. **è¯´æ˜Žæ“ä½œæ­¥éª¤**: é‡çŽ°é—®é¢˜çš„æ­¥éª¤
3. **çŽ¯å¢ƒä¿¡æ¯**: Dockerç‰ˆæœ¬ï¼Œæ“ä½œç³»ç»Ÿç­‰

---

**å®¡è®¡ç»“è®º**: é¡¹ç›®åŸºç¡€è®¾æ–½åŸºæœ¬å®Œæ•´ï¼Œä½†æ ¸å¿ƒä¸šåŠ¡ä»£ç ä¸¥é‡ç¼ºå¤±ã€‚éœ€è¦ç«‹å³åˆ›å»ºå‰ç«¯ä»£ç å’ŒåŽç«¯APIéª¨æž¶ï¼Œç„¶åŽé€æ­¥å®žçŽ°ä¸šåŠ¡åŠŸèƒ½ã€‚

**å»ºè®®ä¼˜å…ˆçº§**: å‰ç«¯åˆ›å»º > åŽç«¯API > ä¸šåŠ¡é€»è¾‘ > æ–‡æ¡£å®Œå–„