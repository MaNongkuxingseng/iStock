# ============================================
# myStock-AI 环境变量配置
# ============================================

# 数据库配置
DATABASE_URL=postgresql://mystock_user:mystock_password@localhost:5432/mystock_ai
REDIS_URL=redis://localhost:6379/0

# API 配置
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=true
SECRET_KEY=your-secret-key-here-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 数据源配置
SINA_API_URL=http://hq.sinajs.cn/list=
TENCENT_API_URL=http://qt.gtimg.cn/q=
EASTMONEY_API_URL=http://push2.eastmoney.com/api
JQDATA_USERNAME=your_jqdata_username  # 聚宽数据用户名（可选）
JQDATA_PASSWORD=your_jqdata_password  # 聚宽数据密码（可选）

# 机器学习配置
ML_MODEL_PATH=./data/models
ML_TRAINING_DATA_PATH=./data/processed
ML_CACHE_PATH=./data/cache
TORCH_DEVICE=cpu  # 或 cuda 如果有GPU

# 前端配置
VITE_API_URL=http://localhost:8000
VITE_APP_TITLE=myStock-AI
VITE_APP_DESCRIPTION=智能股票分析与预测系统
VITE_APP_VERSION=0.1.0

# 监控配置
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3001
SENTRY_DSN=your_sentry_dsn_here  # Sentry错误追踪（可选）

# 邮件配置（用于通知）
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password
EMAIL_FROM=noreply@mystock-ai.com

# 任务队列配置
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TIMEZONE=Asia/Shanghai

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log
LOG_FORMAT=json

# 安全配置
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# 开发配置
RELOAD=true
WORKERS=1
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# 测试配置
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/test_db
TEST_REDIS_URL=redis://localhost:6379/1

# ============================================
# 生产环境需要修改的配置
# ============================================

# 生产数据库（使用环境变量或密钥管理）
# DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# 生产Redis
# REDIS_URL=redis://${REDIS_USER}:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# 生产密钥（必须更改！）
# SECRET_KEY=${SECRET_KEY_FROM_ENV}

# 生产环境关闭调试
# DEBUG=false

# 生产CORS配置
# CORS_ORIGINS=["https://yourdomain.com", "https://app.yourdomain.com"]

# ============================================
# 使用说明
# ============================================

# 1. 复制此文件为 .env
#    cp .env.example .env

# 2. 编辑 .env 文件，修改以下关键配置：
#    - SECRET_KEY: 生成随机字符串
#    - 数据库凭证（如果需要）
#    - 邮件配置（如果需要邮件通知）
#    - 第三方API密钥（如果需要）

# 3. 敏感信息不要提交到版本控制！
#    .env 文件已在 .gitignore 中排除

# 4. 生产环境建议使用环境变量或密钥管理服务，
#    而不是硬编码在 .env 文件中